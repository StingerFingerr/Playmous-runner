using System.Threading.Tasks;
using UnityEngine;

public class InvulnerabilityBuster: BaseBuster
{
    private InvulnerabilityBusterStats _stats;

    public override void Initialize(BustersStats stats) => 
        _stats = stats.invulnerabilityBusterStats;

    public override async void OnCollected(Player player)
    {
        player.IsInvulnerable = true;
        await Task.Delay((int) (_stats.invulnerabilityTime * 1000));
        player.IsInvulnerable = false;
    }

    private void Update() => 
        transform.Rotate(Vector3.up*10*Time.deltaTime);
}